(this["webpackJsonpsparklearn-faucet"]=this["webpackJsonpsparklearn-faucet"]||[]).push([[0],{261:function(e,t,n){"use strict";(function(e,a){var s=n(26),i=n(85),c=n(7),r=n(8),o=n(14),u=n(15),l=n(25),d=n.n(l),p=n(0),b=n.n(p),m=(n(280),n(262)),h=n(267),f=n(86),y=n(265),j=n(1),w=n(591).default,x=function(t){Object(o.a)(p,t);var l=Object(u.a)(p);function p(e){var t;return Object(c.a)(this,p),(t=l.call(this,e)).state={balance:0,gas_price:0,input_address:"",success_text:"",success_hash:"",error_text:"",is_success:!1,is_error:!1},t}return Object(r.a)(p,[{key:"componentWillMount",value:function(){window.web3=Object(m.a)("https://goerli.infura.io/v3/".concat("667c71cafd164c1b940902f66cb2c5c2")),window.ethTx=n(610).Transaction,this.initAndFetchBal([{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"tokens",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokens",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"_totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_value",type:"uint256"}],name:"burn",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"tokenOwner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"acceptOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"a",type:"uint256"},{name:"b",type:"uint256"}],name:"safeSub",outputs:[{name:"c",type:"uint256"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"tokens",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"a",type:"uint256"},{name:"b",type:"uint256"}],name:"safeDiv",outputs:[{name:"c",type:"uint256"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"tokens",type:"uint256"},{name:"data",type:"bytes"}],name:"approveAndCall",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"a",type:"uint256"},{name:"b",type:"uint256"}],name:"safeMul",outputs:[{name:"c",type:"uint256"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[],name:"newOwner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"tokenAddress",type:"address"},{name:"tokens",type:"uint256"}],name:"transferAnyERC20Token",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"tokenOwner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"a",type:"uint256"},{name:"b",type:"uint256"}],name:"safeAdd",outputs:[{name:"c",type:"uint256"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!1,inputs:[{name:"_newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"tokens",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"tokenOwner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"tokens",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Burn",type:"event"}],"0xb8080B8B6BAffadb5DC50f9D31Dc126f2b99c7aA"),this.fetchGasPrice()}},{key:"fetchGasPrice",value:function(){var e=this;w.get("https://ethgasstation.info/json/ethgasAPI.json").then((function(t){var n=window.web3.utils.fromWei(window.web3.utils.toWei((t.data.fastest/10).toString(),"gwei"),"ether");e.setState({gas_price:n})})).catch((function(e){console.log(e)}))}},{key:"initAndFetchBal",value:function(){var e=Object(i.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new window.web3.eth.Contract(t,n);case 2:window.token=e.sent,this.fetchTokenBal("0xca84b6581d325e6a497d875c4ca093ac3ba2ccaf");case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchTokenBal",value:function(){var e=Object(i.a)(d.a.mark((function e(t){var n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.token.methods.balanceOf(t).call((function(e,t){e&&console.error("Error: ",e),n.setState({balance:window.web3.utils.fromWei(t,"ether")})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"estimateGasLimit",value:function(){var e=Object(i.a)(d.a.mark((function e(t,n,a){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new Promise((function(e,s){var i=window.web3.utils.toHex(window.web3.utils.toWei(a,"ether")),c={from:t,to:window.token._address,data:window.token.methods.transfer(n,i).encodeABI()};window.web3.eth.estimateGas(c,(function(t,n){t&&s(t),e({gasLimit:n,data:c.data})}))})),e.next=3,s;case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"sendFaucetToken",value:function(){var t=Object(i.a)(d.a.mark((function t(){var n,s=this;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.setState({is_success:!1,is_error:!1,success_message:"",error_message:""}),""===this.state.input_address?this.setState({is_error:!0,error_message:"Please input all fields."}):window.web3.utils.isAddress(this.state.input_address)?(n=new e.from("f29f4de0cb53c52a33ded4a69ef4ea72ebd55fd3635ebdfc51b7cd654a89e786","hex"),this.estimateGasLimit("0xca84b6581d325e6a497d875c4ca093ac3ba2ccaf",this.state.input_address,"10").then((function(e){window.web3.eth.getTransactionCount("0xca84b6581d325e6a497d875c4ca093ac3ba2ccaf","pending",(function(t,i){if(t)console.log(t),s.setState({is_error:!0,error_message:"Something has occurred. Please try again."});else{var c={from:"0xca84b6581d325e6a497d875c4ca093ac3ba2ccaf"};c.to=window.token._address,c.data=e.data,c.gasLimit=window.web3.utils.toHex(e.gasLimit),c.gasPrice=window.web3.utils.toHex(a.web3.utils.toWei(s.state.gas_price,"ether")),c.nonce=window.web3.utils.toHex(i);var r=new window.ethTx(c,{chain:"goerli"});r.sign(n),window.web3.eth.sendSignedTransaction("0x".concat(r.serialize().toString("hex")),(function(e,t){e?(console.log(e),s.setState({is_error:!0,error_message:"Something has occurred. Please try again."})):s.setState({input_address:"",is_success:!0,success_hash:t.toString(),success_message:"Sending 10 test SRK. Please wait for a few minutes."})}))}})).catch((function(e){console.log(e),s.setState({is_error:!0,error_message:"Something has occurred. Please try again."})}))}))):this.setState({is_error:!0,error_message:"Invalid Address"});case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"handleInput",value:function(e,t){this.setState(Object(s.a)({},e,t.target.value))}},{key:"render",value:function(){var e=this;return Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"align-items-center justify-content-center",children:[Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("div",{className:"card-header text-center",children:[Object(j.jsx)("img",{alt:"logo",className:"align-self-center",src:y.a,height:"69",width:"80"}),Object(j.jsx)("h3",{children:"SparkLearn EdTech Test SRK Faucet"})]}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)(h.a,{defaultActiveKey:"second",children:[Object(j.jsx)(f.a,{eventKey:"first",title:"ETH Ropsten",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-12",children:[Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:"alert alert-danger",children:[Object(j.jsx)("strong",{children:"Warning!"}),Object(j.jsx)("br",{}),"Ropsten is shutting down Q4 of 2022. More info ",Object(j.jsx)("a",{href:"https://blog.ethereum.org/2022/06/21/testnet-deprecation/",target:"_blank",rel:"noreferrer",children:"here"})]},1)]})})})}),Object(j.jsxs)(f.a,{eventKey:"second",title:"ETH Goerli",children:[Object(j.jsx)("br",{}),Object(j.jsx)("center",{children:Object(j.jsxs)("small",{children:["Remaining faucet balance: ",this.state.balance," test SRK"]})}),Object(j.jsx)("br",{}),Object(j.jsx)("form",{children:Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"form-group col-12",children:Object(j.jsx)("input",{type:"name",value:this.state.input_address,className:"form-control",onChange:function(t){return e.handleInput("input_address",t)},placeholder:"Enter address to receive funds here"})}),Object(j.jsxs)("div",{className:"col-12",children:[this.state.is_success&&[Object(j.jsx)("br",{},0),Object(j.jsxs)("div",{className:"alert alert-success",children:[Object(j.jsx)("strong",{children:"Success!"})," "+this.state.success_message,Object(j.jsx)("br",{}),Object(j.jsx)("a",{href:"https://goerli.etherscan.io/tx/"+this.state.success_hash,target:"_blank",rel:"noreferrer",children:"https://goerli.etherscan.io/tx/"+this.state.success_hash})]},1)],this.state.is_error&&[Object(j.jsx)("br",{},0),Object(j.jsxs)("div",{className:"alert alert-danger",children:[Object(j.jsx)("strong",{children:"Error!"})," ",this.state.error_message]},1)]]})]})})}),Object(j.jsx)("br",{}),Object(j.jsx)("center",{children:Object(j.jsx)("button",{className:"btn btn-primary",onClick:this.sendFaucetToken.bind(this),children:"Request 10 test SRK"})}),Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-12",children:[Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:"alert alert-warning",children:[Object(j.jsx)("strong",{children:"Did not receive your test SRK?"}),Object(j.jsx)("br",{}),"EVM blockchains in general and Ropsten in particular are incredibly fragile, unreliable and hostile environments. Transactions do get lost, sometimes fail to mine, gas limits are estimated incorrectly, network explorer loses records, and Infura sometimes misreport nonces."]},1)]})})})]}),Object(j.jsx)(f.a,{eventKey:"third",title:"BSC Testnet",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-12",children:[Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:"alert alert-info",children:[Object(j.jsx)("strong",{children:"Coming Soon!"}),Object(j.jsx)("br",{}),"This feature is still under development."]},1)]})})})}),Object(j.jsx)(f.a,{eventKey:"fourth",title:"MATIC Mumbai",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-12",children:[Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:"alert alert-info",children:[Object(j.jsx)("strong",{children:"Coming Soon!"}),Object(j.jsx)("br",{}),"This feature is still under development."]},1)]})})})})]})}),Object(j.jsx)("div",{className:"card-footer text-muted text-center",children:Object(j.jsxs)("small",{children:["\xa9 ",Object(j.jsx)("a",{href:"https://sparklearn-edtech.com/",target:"_blank",rel:"noreferrer",children:"SparkLearn EdTech Inc."})]})})]})]})})})}}]),p}(b.a.Component);t.a=x}).call(this,n(3).Buffer,n(16))},262:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(150),s=n.n(a),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!window.ethereum&&!e)throw new Error("no ethereum provider detected");return new s.a(e?new s.a.providers.HttpProvider(e):window.ethereum)}},265:function(e,t,n){"use strict";t.a=n.p+"static/media/logo.f38acf77.png"},276:function(e,t,n){},280:function(e,t,n){},291:function(e,t){},299:function(e,t){},317:function(e,t){},319:function(e,t){},334:function(e,t){},335:function(e,t){},400:function(e,t){},402:function(e,t){},435:function(e,t){},437:function(e,t){},438:function(e,t){},443:function(e,t){},445:function(e,t){},451:function(e,t){},453:function(e,t){},466:function(e,t){},478:function(e,t){},481:function(e,t){},486:function(e,t){},500:function(e,t){},502:function(e,t){},612:function(e,t){},642:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(260),c=n.n(i),r=(n(275),n(276),n(261)),o=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,647)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),i(e),c(e)}))},u=n(1);c.a.createRoot(document.getElementById("root")).render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(r.a,{})})),o()}},[[642,1,2]]]);
//# sourceMappingURL=main.10acb304.chunk.js.map